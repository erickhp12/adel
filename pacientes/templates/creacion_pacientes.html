{% extends 'base.html' %}
{% block title %}ADEL | agregar paciente {% endblock %}

{% block body %}
<body onload="set_values()">
</body>
{% load staticfiles %}
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="{% static 'css/pacientes/creacion.pacientes.css' %}"/>

<div class = "header">
    <p class="header_text">Agregar paciente</p>
</div>

    <form method=post>
        {% csrf_token %}
        <section class="seccion_formulario">
            <div class="seccion_1">
                <div>
                    <label>{{ form.nombre.label}}</label>
                    {{ form.nombre }}
                    <span>{{ form.nombre.errors }}</span>
                </div>
                <div class="select_tipo_paciente select" onchange="reassign_values()"><br>
                    <span><label>{{ form.tipo_paciente.label }}</label></span>
                    {{ form.tipo_paciente }}
                    <span>{{ form.tipo_paciente.errors }}</span>
                    <span><label>{{ form.sexo.label}}</label></span>
                    {{ form.sexo }}
                    <span>{{ form.sexo.errors }}</span>
                </div>
                <div>
                    <p><label>{{ form.edad.label}}</label></p>
                    {{ form.edad }}
                    <span>{{ form.edad.errors }}</span>
                </div>
                <div class="div_aseguranza">
                    <label>{{ form.aseguranza.label}}</label>
                    {{ form.aseguranza }}
                    <span>{{ form.aseguranza.errors }}</span>
                </div><br><br><br>
            </div>
            <div class="seccion_2">
                <div>
                    <label>{{ form.telefono.label}}</label>
                    {{ form.telefono }}
                    <span>{{ form.telefono.errors }}</span>
                </div>
                <div>
                    <label>{{ form.correo.label}}</label>
                    {{ form.correo }}
                    <span>{{ form.correo.errors }}</span>
                </div>
                <div>
                    <label>{{ form.direccion.label}}</label>
                    {{ form.direccion }}
                    <span>{{ form.direccion.errors }}</span>
                </div>
                <div class="pacientes_comentarios">
                    <label>{{ form.comentarios.label}}</label>
                    {{ form.comentarios }}
                    <span>{{ form.comentarios.errors }}</span>
                </div>
            </div>
        </section>
        <div class="seccion_botones">           
            <input class="btn_confirmar" id="save_contact" 
            type="submit" value="Registrar"/>
            <a href="/lista.pacientes" class="btn_volver">Volver</a>
        </div>
    </form>
</div>

<script>
function set_values(){
    var textbox_aseguranza = document.getElementById('id_aseguranza');
    textbox_aseguranza.value = "No aplica";
    textbox_aseguranza.readOnly = true;
}
function reassign_values(){
    var textbox_aseguranza = document.getElementById('id_aseguranza');
    var tipo_paciente = document.getElementById('id_tipo_paciente');
    if (tipo_paciente.value == "Aseguranza") {   
    textbox_aseguranza.readOnly = false;
    textbox_aseguranza.value = "";
    textbox_aseguranza.placeholder = "Introduce la aseguranza";
    }else{
        textbox_aseguranza.readOnly = true;
        textbox_aseguranza.value = "No aplica";
        textbox_aseguranza.placeholder = "";
    }
}
</script>

{% endblock %}