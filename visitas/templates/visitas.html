{% extends "base.html" %}
{% block title %}ADEL | Visitas {% endblock %}
{% load staticfiles %}

{% block body %}

 <div class = "header">
        <p class="header_text">Visitas actuales ({{ total }})</p>
    </div>
<table>

<span>Buscar Visitas</span>
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="buscar" class="search_input_visitas">
     <thead class="columna">
          <th>Paciente</th>
          <th>Motivo</th>
          <th>Dentista que atendio</th>
          <th>Informacion</th>
          <th>Edicion</th>
     </thead>
     {% for visita in object_list %}
     <tbody class="contenido" id="contenido">
          <td>{{ visita.paciente }}</td>
          <td>{{ visita.motivo }}</td>
          <td>{{ visita.dentista }}</td>
          <td><a href="{{ visitas.url_ver }}">ver</a></td>
          <td><a href="{{ visitas.url_editar }}">Editar</a></td>
     </tbody>
     {% endfor %}
     </table>
     <a href="/registro.visita">
          <input type="button" name="link_add_visita" class="btn_naranja btn_agregar_visita"
          value="Agregar una nueva visita"/>
     </a>


<script>
function myFunction() {
    var input, filter, ul, li, a, i, td,tbody,texto_a_buscar;
    input = document.getElementById("myInput");
    tbody = document.getElementById("contenido");
    td = tbody.innerHTML
    console.log("este es mi TD? " + td);
    li = tbody.getElementsByTagName("td"); 
     for (i = 0; i < li.length; i++) {
          td = tbody.innerHTML
          console.log("td " + td)
          texto_a_buscar = input.value
          console.log("texto a buscar " + texto_a_buscar);
          console.log("texto li " + li[0].innerHTML);
          if (li[0].innerHTML.includes(texto_a_buscar) ){
               console.log("entre a if indice " + li[i]);
               li[i].style.color = "red";
          }else {
               console.log("entre a else indice " + li[i])
               li[i].style.display = "none";
        }
    }
}
</script>

{% endblock %}


