{% extends "base.html" %}
{% block title %}ADEL | empleados {% endblock %}
{% load staticfiles %}

{% block body %}

 <div class = "header">
        <p class="header_text">Empleados actuales ({{ total }})</p>
    </div>
<section class="seccion_fondo">
  
  <section class="herramientas_menu">  
    <div class="seccion_busqueda">   
      <span>Buscar algun registro </span><input type="text" id="myInput" onkeyup="myFunction()" placeholder="buscar" class="search_visitas"/>
    </div>
    <div class="seccion_agregar_nuevo">
      <a href="/registro.visita">
            <input type="button" name="link_add_visita" 
            class="btn_naranja btn_agregar_elemento" value="Agregar un nuevo empleado"/>
      </a>
    </div>
  </section>

  <table>
     <thead class="columna">
          <th>Nombre</th>
          <th>puesto</th>
          <th>telefono</th>
          <th>Detalles</th>
          <th>Edicion</th>
     </thead>
     {% for usuario in object_list %}
     <tbody class="contenido" id="contenido">
          <td>{{ usuario.nombres }} {{ usuario.apellidos }}</td>
          <td>{{ usuario.puesto }}</td>
          <td>{{ usuario.telefono }}</td>
          <td>
               <a href="{{ usuario.url_ver }}">Ver</a>
          </td>
          <td>
               <a href="{{ usuario.url_editar }}">Editar</a>
          </td>
     </tbody>
     {% endfor %}
     </table>
     <br><br>
  </section>


<script>
function myFunction() {
    var input, filter, ul, li, a, i, td,tbody,texto_a_buscar;
    input = document.getElementById("myInput");
    tbody = document.getElementById("contenido");
    td = tbody.innerHTML
    console.log("este es mi TD? " + td);
    li = tbody.getElementsByTagName("td"); 
     for (i = 0; i < li.length; i++) {
          td = tbody.innerHTML
          console.log("td " + td)
          texto_a_buscar = input.value
          console.log("texto a buscar " + texto_a_buscar);
          console.log("texto li " + li[0].innerHTML);
          if (li[0].innerHTML.includes(texto_a_buscar) ){
               console.log("entre a if indice " + li[i]);
               li[i].style.color = "red";
          }else {
               console.log("entre a else indice " + li[i])
               li[i].style.display = "none";
        }
    }
}
</script>

{% endblock %}


